<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Disk Performance - Airport Extreme vs. Time Capsule - Airport Extreme (5th Gen) and Time Capsule (4t | DazeBlog</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="Disk Performance
The next question on my mind was disk performance. I don’t own a Time Capsule for backing up my singular Mac; instead I use a hard drive dock attached to the Airport Extreme over USB 2.0 for that purpose. So the question now becomes, is it dramatically faster to use the Time Capsule’s internal disk over SATA II instead of a USB 2.0 attached dock? The question is almost rhetorical (of course SATA II is going to beat USB 2."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>DazeBlog</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>Disk Performance - Airport Extreme vs. Time Capsule - Airport Extreme (5th Gen) and Time Capsule (4t</h1><div><strong>Publish date: </strong>2024-09-25</div><p><strong>Disk Performance</strong></p><p>The next question on my mind was disk performance. I don’t own a Time Capsule for backing up my singular Mac; instead I use a hard drive dock attached to the Airport Extreme over USB 2.0 for that purpose. So the question now becomes, is it dramatically faster to use the Time Capsule’s internal disk over SATA II instead of a USB 2.0 attached dock? The question is almost rhetorical (of course SATA II is going to beat USB 2.0, right?), but nevertheless we want numbers.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/4577/ScreenShot2011-08-05at12.44.58AM.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>When a disk is attached with USB to the Time Capsule or Airport Extreme, you have the option of sharing the disk like an ordinary AFS or even SMB share with or without a password. The Airport Extreme or Time Capsule pops up under devices in finder, and then you can mount specific shares which appear just like a normal volume to OS X. Rather than time the creation of an entire fresh Time Machine backup on each configuration, I settled on measuring performance across the network to the drive using QuickBench while connected over GigE.</p><p>Before we go into the performance numbers, let’s talk about changing out drives in the Time Capsule. The nice part about the Airport Utility is that there’s a one-click erase button for automatically partitioning any drive properly for the Time Capsule. There are even options for making that wipe take place with multiple passes in case you’re trying to delete some really shady, erm, scientific research.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/4577/ScreenShot2011-08-03at2.58.05AM.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Anyhow, clicking erase from the airport utility makes the drive usable without the need for any preformatting. It’s almost as if Apple expects people to try to upgrade the disk on their own in the future or to make it easy to service. Doing so and then taking the drive out for inspection reveals three partitions. You can see these three partitions by running diskutil list on the drive.</p><p>/dev/disk5</p><p>#: TYPE NAME SIZE IDENTIFIER</p><p>0: GUID_partition_scheme *240.1GB disk5</p><p>1: Apple_HFS APconfig 1.1GB disk5s1</p><p>2: Apple_HFS APswap 1.1GB disk5s2</p><p>3: Apple_HFS Untitled 1 237.9GB disk5s3</p><p>So no matter how you slice it, you lose 2.2GB to overhead just from the Time Capsule partitioning things how it wants. I couldn’t find anything inside APswap, at least after a fresh format. Inside APconfig is a file named AFP.reconnect_keys which contains a mysterious unintelligible string, perhaps a hash of some kind or a token used to authenticate clients. Regardless, it’s apparent that the architecture for Time Machine on a Time Capsule differs from the external disk method when a drive is attached over USB. I learned on my own that these backups aren’t easily portable between the two, though you can actually migrate backups off of the Time Capsule to an attached disk by clicking Archive.</p><p>When using the disk attached using USB however, you have to preformat the drive as HFS+ yourself, but in that case one large partition suffices. Then you back up to .sparsebundles inside that, and essentially Time Machine treats the thing like a network attached drive.</p><p>So on to the performance testing. In true AnandTech fashion, the disk I chose to use for testing was a Vertex 3 MAX IOPS 240GB SSD, just to eliminate the disk as being a potential bottleneck in the performance benchmarking. To start, I took a baseline test with my rather generic Rosewill USB 2.0 dock attached directly to the MBP. Next, that same volume when connected across the network to the Airport Extreme using USB 2.0, then the Time Capsule using USB 2.0, and finally installed inside the Time Capsule using SATA II (3.0Gbps). I present to you the (probably) first Time Capsule with an SSD inside.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/4577/ATSSDTC_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>For good measure, I also tested the Time Capsule with the shipping 2TB WD Green, and one of my own personal 3TB WD Greens inside, just to see how platter drives fare. I also threw in one test where I connected over WLAN instead of gigabit ethernet directly to the devices.</p><p>First up is sequential read speeds, which aren’t critically important for backing things up (since you’re probably more concerned with write performance) but hugely important for restoring and verifying or indexing backups. Connected directly to the devices, we can essentially max out gigabit ethernet with 80+MB/s transfers, or just shy of 700 Mbps. Some individual tests are even at 100MB/s (800 Mbps), but these are the averages of those 20-100MB size tests.</p><p><img alt="Sequential Read Speeds (20-100MB Transfer Average)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph4577/40097.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>SATA II here gives a huge advantage over USB 2.0 and comes close to hitting the limits of gigabit ethernet. Oddly enough, USB 2.0 performance isn’t even limited by the dock, but rather the controller. Connected directly to the notebook, performance is almost 10MB/s faster.</p><p><img alt="Sequential Write Speeds (20-100MB Transfer Average)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph4577/40096.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Reads show a similar, if interesting, story. SATA II again proves noticeably faster than the USB 2.0 route, but performance seems capped to around 40MB/s. Obviously the Vertex 3 can write way faster than this, but the controller seems to be strained to the limit when making writes. This is a bit frustrating considering mostly what the device is going to be doing is writing stuff to disk every couple of hours.</p><p>As Anand will tell you, no sequential write is ever really truly sequential, so small block performance is also important. I selected the 4 KB block test and analyzed results, which show that for writes we’re pretty much limited to the same 1.0MB/s even on a stupidly fast SSD both over SATA and USB 2.0, again the controller or network overhead with so many small transfers seems the limit.</p><p><img alt="Sequential Write Speeds (4 KB Transfer Average)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph4577/40094.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>On reads, the same story applies, with everything stuck around 8MB/s over gigabit or the dock. WLAN performance suffers considerably.</p><p><img alt="Sequential Read Speeds (4 KB Transfer Average)" src=https://cdn.statically.io/img/images.anandtech.com/graphs/graph4577/40095.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>If you’re going to be doing lots of backing up and care about speed (or don’t mind the extra price), the Time Capsule’s SATA II interface makes it a considerably faster experience compared to the cheaper USB 2.0 dock solution. It ends up being twice as fast at writing and over three times as fast at reading to use the Time Capsule over the Airport Extreme. Of course if you’re going to be using WiFi to back things up, all bets are really off and the performance gains of using the Time Capsule over the Airport Extreme largely erode away.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIF2g5ZomKKqoKS%2FtXnEsaurnZ2aenbAx2aenqZdlruledOipJ5lk5a9tMHLnmRtrJhitKa6jKucr6GVrHqnrdKtnKtlp56zqnmOcA%3D%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>